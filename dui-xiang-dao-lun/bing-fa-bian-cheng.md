# 并发编程

在计算机编程中有一个基本概念 , 就是在同一时刻处理多个任务的思想 . 许多程序设计问题都要求 , 程序能够停下正在做的工作 , 转而处理某个其他问题 , 然后再返回主进程 . 有许多方法可以实现这个目的 . 最初 , 程序员们用所掌握的有关机器底层的知识来编写中断服务程序 , 主进程的挂起是通过硬件中断来触发的 . 尽管这么做可以解决问题 , 但是其难度太大 , 而且不能移植物 , 所以使得将程序移植到新型号的机器上时 , 既费时又费力 .

有时中断对于处理时间性强的任务是必须的 , 但是对于大量的其他问题 , 只是想把问题切分成多个可独立运行的部分\(任务\) , 从而提高程序的响应能力 . 在程序中 , 这些彼此独立运行的部分称之为线程 , 上面的概念称为**并发** . 常见的里有用户界面 , 通过使用任务 , 用户在按下按钮后快速得到一个响应 , 而不用被迫等待到程序完成当前任务为止 . 

通常 , 线程只是一种为单一处理器分配执行时间的手段 . 但是如果操作系统支持多处理器 , 那么每个任务都可以被指派给不同的处理器 , 并且他们是在真正的并行执行 . 

在语言级别上 , 多线程所带来的便利之一是不用再操心机器上是有多个处理器还是只有一个处理器 . 由于程序在逻辑上被分为线程 , 所以如果机器拥有多个处理器 , 那么程序不需要特殊调整也能执行得更快 . 

并发看起来简单 , 但是有一个隐患 , 资源共享 . 如果有多个并行任务都要访问同一项资源 , 那么就会出现问题 . 例如 , 两个进程不能同时向打印机发送消息 . 为了解决这个问题 , 可以共享的资源 , 比如打印机 , 必须在使用期间被锁定 . 因此 , 整个过程是 , 任务锁定某项资源 , 完成其任务 , 然后释放资源锁 , 使得其他任务可以使用这项资源 . 

